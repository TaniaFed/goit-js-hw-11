{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["// функції для відображення елементів інтерфейсу\n\nexport const createGalleryCardTemplate = imgInfo => {\n    return`\n        <li class='gallery-card'>\n            <a class='gallery-link' href='${imgInfo.largeImageURL}'>\n                <img class='gallery-img' src='${imgInfo.webformatURL}' alt='${imgInfo.id}' />\n            </a>\n        </li> `;\n};\n\n\n\n\n","// функції для HTTP-запитів\n \nexport const fetchPhotosByQuery = searchedQuery => {\n\n    const searchParams = new URLSearchParams({\n        key: '48454112-2bb14e2eb4c862c9f6d932a5d',\n        q: `${searchedQuery}`,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        per_page: '9'\n    });\n\n    return fetch(\n        `https://pixabay.com/api/?${searchParams}`).then(response => {\n        if (!response.ok) {\n             throw new Error(responce.status);\n        } \n        return response.json();\n    })\n};\n\n\n\n","// вся логікa роботи додаткa\n\nimport { createGalleryCardTemplate } from './js/render-functions.js';\nimport { fetchPhotosByQuery } from './js/pixabay-api.js'\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loader = document.querySelector('.loader');\n\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n\n    const searchedQuery = event.currentTarget.elements.text_q.value.trim();\n    \n    if (searchedQuery === '') {\n        iziToast.warning({\n            title: 'Caution',\n            message: 'Please, enter valid search requirements!',\n        });\n\n        return;\n    }\n\n    loader.style.display = 'block';\n    galleryEl.innerHTML = '';\n    \n    fetchPhotosByQuery(searchedQuery)\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n                galleryEl.innerHTML = '';\n\n                searchFormEl.reset();\n\n                return;\n            }\n\n            const galleryTemplate = data.hits.map(el => createGalleryCardTemplate(el)).join('');\n            \n            galleryEl.innerHTML = galleryTemplate;\n        })\n        .catch(err => {\n            if (gallery.innerHTML === '') {\n                console.err('Error fetching data:', err);\n                iziToast.err({\n                    title: 'Error',\n                    message: 'An error occurred while searching for images',\n                });\n            }\n            // console.log(err);\n        })\n        .finally(() => {\n            loader.style.display = 'none';\n        });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n\nconst lightbox = new SimpleLightbox('.gallery .js-gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nconsole.log(lightbox);\n\n\n\n\n\n\n\n"],"names":["createGalleryCardTemplate","imgInfo","fetchPhotosByQuery","searchedQuery","searchParams","response","searchFormEl","galleryEl","loader","onSearchFormSubmit","event","iziToast","data","galleryTemplate","el","err","lightbox","SimpleLightbox"],"mappings":"wvBAEO,MAAMA,EAA4BC,GAC/B;AAAA;AAAA,4CAEkCA,EAAQ,aAAa;AAAA,gDACjBA,EAAQ,YAAY,UAAUA,EAAQ,EAAE;AAAA;AAAA,gBCJ3EC,EAAqBC,GAAiB,CAE/C,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAG,GAAGD,CAAa,GACnB,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,GAClB,CAAK,EAED,OAAO,MACH,4BAA4BC,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC7D,GAAI,CAACA,EAAS,GACT,MAAM,IAAI,MAAM,SAAS,MAAM,EAEpC,OAAOA,EAAS,MACxB,CAAK,CACL,ECRMC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAS,SAAS,cAAc,SAAS,EAGzCC,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EAEpB,MAAMP,EAAgBO,EAAM,cAAc,SAAS,OAAO,MAAM,OAEhE,GAAIP,IAAkB,GAAI,CACtBQ,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,0CACrB,CAAS,EAED,MACH,CAEDH,EAAO,MAAM,QAAU,QACvBD,EAAU,UAAY,GAEtBL,EAAmBC,CAAa,EAC3B,KAAKS,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,MAAM,CACX,QAAS,0EAC7B,CAAiB,EACDJ,EAAU,UAAY,GAEtBD,EAAa,MAAK,EAElB,MACH,CAED,MAAMO,EAAkBD,EAAK,KAAK,IAAIE,GAAMd,EAA0Bc,CAAE,CAAC,EAAE,KAAK,EAAE,EAElFP,EAAU,UAAYM,CAClC,CAAS,EACA,MAAME,GAAO,CACN,QAAQ,YAAc,KACtB,QAAQ,IAAI,uBAAwBA,CAAG,EACvCJ,EAAS,IAAI,CACT,MAAO,QACP,QAAS,8CAC7B,CAAiB,EAGjB,CAAS,EACA,QAAQ,IAAM,CACXH,EAAO,MAAM,QAAU,MACnC,CAAS,CACT,EAEAF,EAAa,iBAAiB,SAAUG,CAAkB,EAE1D,MAAMO,EAAW,IAAIC,EAAe,yBAA0B,CAC1D,aAAc,MACd,aAAc,GAClB,CAAC,EAED,QAAQ,IAAID,CAAQ"}