{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["// функції для відображення елементів інтерфейсу\n\nexport const createGalleryCardTemplate = imgInfo => {\n    return`\n       \n            <li class='gallery-card'>\n                <a class='gallery-link' href='${imgInfo.largeImageURL}'>\n                    <img class='gallery-img' src='${imgInfo.webformatURL}' alt='${imgInfo.tags}' />\n                    <div class='img-card'>\n                        <span class='span-text'>Likes <span class='span-number'>${imgInfo.likes}</span></span>\n                        <span class='span-text'>Views <span class='span-number'>${imgInfo.views}</span></span>\n                        <span class='span-text'>Comments <span class='span-number'>${imgInfo.comments}</span></span>\n                        <span class='span-text'>Downloads <span class='span-number'>${imgInfo.downloads}</span></span>\n                    </div>\n                </a>\n            </li>`;\n};\n\n\n\n\n","// функції для HTTP-запитів\n \nexport const fetchPhotosByQuery = searchedQuery => {\n\n    const searchParams = new URLSearchParams({\n        key: '48454112-2bb14e2eb4c862c9f6d932a5d',\n        q: `${searchedQuery}`,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        per_page: '9'\n    });\n\n    return fetch(\n        `https://pixabay.com/api/?${searchParams}`).then(response => {\n        if (!response.ok) {\n             throw new Error(responce.status);\n        } \n        return response.json();\n    })\n};\n\n\n\n","// вся логікa роботи додаткa\n\nimport { createGalleryCardTemplate } from './js/render-functions.js';\nimport { fetchPhotosByQuery } from './js/pixabay-api.js'\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loader = document.querySelector('.loader');\n\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n\n    const searchedQuery = event.currentTarget.elements.text_q.value.trim();\n    \n    if (searchedQuery === '') {\n        iziToast.warning({\n            title: 'Caution',\n            message: 'Please, enter valid search requirements!',\n        });\n\n        return;\n    }\n\n    loader.style.display = 'block';\n    galleryEl.innerHTML = '';\n    \n    fetchPhotosByQuery(searchedQuery)\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n                galleryEl.innerHTML = '';\n                searchFormEl.reset();\n\n                return;\n            }\n\n            const galleryTemplate = data.hits.map(el => createGalleryCardTemplate(el)).join(''); \n            galleryEl.innerHTML = galleryTemplate;\n\n            const lightbox = new SimpleLightbox('.gallery-card a.gallery-link  ', {\n                // captionsData: 'alt',\n                // captionDelay: 250,\n            });\n            console.log(lightbox);\n        })\n        .catch(err => {\n            if (galleryEl.innerHTML === '') {\n                console.err('Error fetching data:', err);\n                iziToast.err({\n                    title: 'Error',\n                    message: 'An error occurred while searching for images',\n                });\n            }\n            // console.log(err);\n        })\n        .finally(() => {\n            loader.style.display = 'none';\n        });\n    \n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n\n\n\n\n\n\n\n\n"],"names":["createGalleryCardTemplate","imgInfo","fetchPhotosByQuery","searchedQuery","searchParams","response","searchFormEl","galleryEl","loader","onSearchFormSubmit","event","iziToast","data","galleryTemplate","el","lightbox","SimpleLightbox","err"],"mappings":"6vBAEO,MAAMA,EAA4BC,GAC/B;AAAA;AAAA;AAAA,gDAGsCA,EAAQ,aAAa;AAAA,oDACjBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA,kFAEZA,EAAQ,KAAK;AAAA,kFACbA,EAAQ,KAAK;AAAA,qFACVA,EAAQ,QAAQ;AAAA,sFACfA,EAAQ,SAAS;AAAA;AAAA;AAAA,mBCV1FC,EAAqBC,GAAiB,CAE/C,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAG,GAAGD,CAAa,GACnB,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,GAClB,CAAK,EAED,OAAO,MACH,4BAA4BC,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC7D,GAAI,CAACA,EAAS,GACT,MAAM,IAAI,MAAM,SAAS,MAAM,EAEpC,OAAOA,EAAS,MACxB,CAAK,CACL,ECRMC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAS,SAAS,cAAc,SAAS,EAGzCC,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EAEpB,MAAMP,EAAgBO,EAAM,cAAc,SAAS,OAAO,MAAM,OAEhE,GAAIP,IAAkB,GAAI,CACtBQ,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,0CACrB,CAAS,EAED,MACH,CAEDH,EAAO,MAAM,QAAU,QACvBD,EAAU,UAAY,GAEtBL,EAAmBC,CAAa,EAC3B,KAAKS,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,MAAM,CACX,QAAS,0EAC7B,CAAiB,EACDJ,EAAU,UAAY,GACtBD,EAAa,MAAK,EAElB,MACH,CAED,MAAMO,EAAkBD,EAAK,KAAK,IAAIE,GAAMd,EAA0Bc,CAAE,CAAC,EAAE,KAAK,EAAE,EAClFP,EAAU,UAAYM,EAEtB,MAAME,EAAW,IAAIC,EAAe,iCAAkC,CAGlF,CAAa,EACD,QAAQ,IAAID,CAAQ,CAChC,CAAS,EACA,MAAME,GAAO,CACNV,EAAU,YAAc,KACxB,QAAQ,IAAI,uBAAwBU,CAAG,EACvCN,EAAS,IAAI,CACT,MAAO,QACP,QAAS,8CAC7B,CAAiB,EAGjB,CAAS,EACA,QAAQ,IAAM,CACXH,EAAO,MAAM,QAAU,MACnC,CAAS,CAET,EAEAF,EAAa,iBAAiB,SAAUG,CAAkB"}